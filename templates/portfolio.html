{% extends "layout.html" %}

{% block title %}

{% endblock %}

{% block main %}
    <div class="container w-screen h-screen ">
        <div class="flex gap-4 h-1/5 text-zinc-300">
            <div class="flex relative h-2/4 w-2/5 max-[462px]:hidden ">
                <h1 class="absolute bottom-0 left-0 text-4xl max-[800px]:text-xl">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[10%] h-[10%] text-[#8c1eff] inline-flex opacity-75 mr-2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z" />
                      </svg>
                      {{ name }}
                </h1>
            </div>
            <div class="flex relative right-0 h-2/4 w-3/5 text-center justify-center items-center text-4xl max-[800px]:text-2xl max-[462px]:m-auto">
                <h4 class="absolute bottom-0 pl-4 pr-4 pt-4 ">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-[11%] h-[11%] text-[#22fff2] inline-flex opacity-75 mr-8">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" />
                      </svg>
                    {{ balance }}
                </h4>
            </div>
        </div>
        <div class="flex h-1/3 gap-4">
            <div class="flex flex-col relative h-4/5 w-2/5 p-4 justify-center bg-black/80 gap-10 rounded-xl text-slate-300 ring ring-[#8c1eff] shadow-2xl shadow-[#8c1eff] relative overflow-scroll max-[462px]:gap-4 max-[462px]:m-auto max-[462px]:w-4/5">
                <div class="flex absolute pt-4 text-left text-3xl h-2/5 top-0 text-slate-300 w-1/4">Balance:</div>
                <div class=" flex animate-bounce absolute bg-white/10 bottom-0 ring-2 ring-[#8c1eff] shadow-md shadow-slate-300/70 rounded-xl text-center text-slate-300 p-4 mb-5 text-2xl w-9/12 min-[1024px]:w-9/12 min-[1024px]:text-4xl h-2/5 justify-center align-center overflow-scroll"><div class="flex m-auto">{{ total }}</div></div>
            </div>
            <div class="flex w-3/5 bg-black/80 box-content h-4/5 ml-20 rounded-xl text-slate-400 ring ring-[#22fff2] shadow-2xl shadow-[#22fff2] max-[462px]:hidden max-[462px]:ml-4">
                <div class="overflow-scroll w-full p-2 m-2">
                    <table class="table ">
                        <thead  class="relative">
                            <tr class="top-1 text-[#22fff2]">
                                <th>Name</th>
                                <th class="max-[1536px]:hidden">Avg. Price Change</th>
                                <th>Market Cap</th>
                                <th class="max-[1536px]:hidden">Volume</th>
                            </tr>
                        </thead>
                    </table>
                    <table class="table ">
                        <tbody class="pb-4">
                            {% for trends in trend %}
                                <div class="flex bg-white/10 ring-2 ring-[#22fff2] shadow-md shadow-zinc-300/70 m-auto rounded-xl p-2 items-stretch relative  text-slate-300 justify-center mb-3 overflow-clip">
                                    <ul class="min-w-full">
                                        <li class="float-left text-center left-2 w-1/4 text-slate-300 ">
                                            {{ trends.name }}
                                        </li>
                                        <li class="float-left w-1/4 max-[1536px]:hidden">
                                            {% if trends.avg_price_change < 0  %}
                                                <p class="text-[#ff2975]">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 inline-flex">
                                                        <path fill-rule="evenodd" d="M14.77 4.21a.75.75 0 01.02 1.06l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 011.08-1.04L10 8.168l3.71-3.938a.75.75 0 011.06-.02zm0 6a.75.75 0 01.02 1.06l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 111.08-1.04L10 14.168l3.71-3.938a.75.75 0 011.06-.02z" clip-rule="evenodd" />
                                                      </svg>
                                                    {{ trends.avg_price_change | replace('-','') }}%
                                                    </p>
                                            {% else %}
                                                <div class="text-[#75ff29]">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 inline-flex">
                                                        <path fill-rule="evenodd" d="M5.23 15.79a.75.75 0 01-.02-1.06l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 11-1.08 1.04L10 11.832 6.29 15.77a.75.75 0 01-1.06.02zm0-6a.75.75 0 01-.02-1.06l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 11-1.08 1.04L10 5.832 6.29 9.77a.75.75 0 01-1.06.02z" clip-rule="evenodd" />
                                                      </svg>
                                                    {{ trends.avg_price_change }}%
                                                </div>
                                            {% endif %}
                                        </li>
                                        <li class="float-left w-1/4 max-[1536px]:float-right max-[1536px]:mr-10">
                                            {{ trends.market_cap }}
                                            <div>
                                                {% if trends.market_cap_change < 0  %}
                                                    <div class="text-[#ff2975]">
                                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 inline-flex">
                                                            <path fill-rule="evenodd" d="M14.77 4.21a.75.75 0 01.02 1.06l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 011.08-1.04L10 8.168l3.71-3.938a.75.75 0 011.06-.02zm0 6a.75.75 0 01.02 1.06l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 111.08-1.04L10 14.168l3.71-3.938a.75.75 0 011.06-.02z" clip-rule="evenodd" />
                                                          </svg>
                                                        {{ trends.market_cap_change | replace('-','') }}%
                                                    </div>
                                                {% else %}
                                                    <div class="text-[#75ff29]">
                                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 inline-flex">
                                                            <path fill-rule="evenodd" d="M5.23 15.79a.75.75 0 01-.02-1.06l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 11-1.08 1.04L10 11.832 6.29 15.77a.75.75 0 01-1.06.02zm0-6a.75.75 0 01-.02-1.06l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 11-1.08 1.04L10 5.832 6.29 9.77a.75.75 0 01-1.06.02z" clip-rule="evenodd" />
                                                          </svg>
                                                        {{ trends.market_cap_change }}%
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </li>
                                        <li class="float-left w-1/4 max-[1536px]:hidden">
                                            {{ trends.volume }}
                                        </li>
                                    </ul>
                                </div>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="content-evenly flex flex-nowrap gap-4 mt-10 overflow-x-scroll p-4 h-1/4 w-full">
            {% if coins == None %}
            <div class="flex flex-row m-auto text-white text-lg w-full h-full gap-6 p-3 overflow-clip">
                <!-- <div class="static"> -->
                    <div class=" w-[85%] h-1/6 box-content bg-slate-900/30 z-10 absolute rounded-md overflow-clip"></div>
                    {% for i in range(5) %}
                        <div class="box-content bg-center h-3/5 m-auto w-full p-4 m-2 rounded-xl bg-black/50 ring-2 ring-slate-700 text-slate-500 shadow-xl gap-2 shadow-slate-700 hover:-translate-y-6 max-[462px]:w-40">
                        </div>
                    {% endfor %}
                    <div class="flex z-20 absolute justify-center align-center w-[86%] h-1/6">
                        <p class="flex m-auto text-xl text-slate-200">Please make a purchase to see transaction history</p>
                    </div>
                </div>
            </div>
            {% else %}
                {% for users in transactions %}
                    {% if users.coins < 0 %}
                        <div class="box-content h-1/2 m-auto w-1/4 p-4 rounded-xl bg-black/50 ring-2 ring-[#ff2975] text-slate-500 shadow-xl gap-2 shadow-[#ff2975]/70 hover:-translate-y-6 max-[462px]:w-40">
                            <ul>
                                <li>
                                    <h4 class="pb-3"> {{ users.etf }} </h4>
                                    <h6 class="pb-2 text-[#ff2975]"> ${{ users.price | replace('-','') }} </h6>
                                    <h6 class="text-[#ff2975]"> {{ users.coins | replace('-','') }} </h6>
                                </li>
                            </ul>
                        </div>
                    {% else %}
                        <div class="box-content h-1/2 m-auto w-1/4 p-4 rounded-xl bg-black/50 ring-2 ring-[#8c1eff] text-slate-500 shadow-xl shadow-[#8c1eff]/70 hover:-translate-y-6 max-[462px]:w-40">
                            <ul class="m-auto">
                                <li class="m-auto">
                                    <h4 class="pb-3 text-slate-500"> {{ users.etf }} </h4>
                                    <h6 class="pb-2 text-[#8c1eff]"> ${{ users.price }} </h6>
                                    <h6 class="text-[#8c1eff]"> {{ users.coins }} </h6>
                                </li>
                            </ul>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </div>
    </div>

{% endblock %}
